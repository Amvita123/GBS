{% extends "base.html" %}
{% load static %}
{% block title%} Challenge Details {% endblock%}

{% block nav_title %}
    {% with page_title="Challenges Management" %}
        {{ block.super }}
    {% endwith%}
{% endblock nav_title%}

{% block css %}
<style>
  img {
    object-fit: cover;
  }
</style>
{% endblock %}

{% block content %} 
<section class="main-section spacer">
    <div class="container">
        <a href="{% url 'challenge_management' %}" class="btn fw-bold mb-2 ms-1"> <i class="fa-solid fa-arrow-left"></i> Back</a>
        <div class="wrapper-card border border-1 p-0">
            <div class="row gy-3 ">                            
                <div class="col-xl-12">
                    <div class="sub_heading_card sub-heading flex-box mb-0">
                        <h2>Challenges Details</h2>                                
                    </div>                 
                </div> 
            </div>
    
            <div class="row">
                <div class="col-xxl-11">
                    <div class="detail_wrapper_card">
                        <div class="row gy-3 gx-4 gx-xxl-5">
                            <div class="col-md-6 col-lg-6">
                                <div class="common-statistics">
                                    <div class="common-info-detail">
                                        <h2 class="h4">Created By</h2>
                                        <p class="mb-0">{{challenge.first_squad.created_by.username}}</p>
                                    </div>
                                    <div class="common-info-detail">
                                        <h2 class="h4">Created on</h2>
                                        <p class="mb-0">{{challenge.created_at|date:"m-d-Y h:i A"}}</p>
                                    </div>

                                </div>
                            </div>
                            <div class="col-md-6 col-lg-6">
                                <div class="common-statistics">
                                    <div class="common-info-detail">
                                        <h2 class="h4">Result Date</h2>
                                        <p class="mb-0">{{challenge.result_date|date:"m-d-Y"}}</p>
                                    </div>

                                    <div class="common-info-detail">
                                        <h2 class="h4">Status</h2>
                                        <p class="mb-0">{{challenge.status|title}}</p>
                                    </div>
                                 
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
           </div>
        </div>

        <div class="wrapper-card border border-0 p-0 shadow-none">
            <div class="row">  
              {% comment %}  {% endcomment %}
              <div class="col-sm-12 col-md-7">
                <div class="challenge-card border-1">
                    <div class="row g-3 justify-content-between">
                      <div class="col-12 col-sm-12">
                        <div class="statistics-card">
                          <div class="statistics-info">
                            <div class="header_user_profile">
                                {% if challenge.first_squad.logo %}
                                <img src="{{challenge.first_squad.logo.url}}" class="rounded-circle" width="54" height="54" />
                                 {% else %}
                                 <img src="{% static 'images/squad.png' %}" alt="Team Logo" class="rounded-circle" width="54" height="54" />
                                 {% endif %}
                            </div>
                            <h4>{{challenge.first_squad.name}}</h4>
                          </div>
                          <div class="statistics-info">
                            <h2 class="fw-bold text-black">VS</h2>
                          </div>
                          <div class="statistics-info">
                            <div class="header_user_profile">
                                {% if challenge.second_squad.logo %}
                                <img src="{{challenge.second_squad.logo.url}}" class="rounded-circle" width="54" height="54"/>
                                 {% else %}
                                 <img src="{% static 'images/squad.png' %}" alt="Team Logo" class="rounded-circle" width="54" height="54"/>
                                 {% endif %}
                            </div>
                             <h4>{{challenge.second_squad.name}}</h4>
                          </div>
                        </div>
                      </div>
                      <div class="col-12">
                        <div class="d-flex justify-content-between w-100 px-4">
                            <div class="challenge_sstatistics_card">
                                <div class="positions-stats">
                                   {% for player in challenge.first_squad.players.all %} 
                                  <div class="player_list d-flex justify-content-start w-100">
                                    <div class="player_img">
                                        {% if player.profile_pic %}
                                        <img src="{{player.profile_pic.url}}" class="rounded-circle" width="36" height="36"/>
                                         {% else %}
                                         <img src="{% static 'images/user.png' %}" alt="Team Logo" class="rounded-circle" width="36" height="36"/>
                                         {% endif %}
                                    </div>
                                    <p class="mb-0 fw-bold player_name">{{player.get_full_name}}</p>
                                  </div>
                                 {% endfor %}
                                </div>                                      
                              </div>
                              <div class="positions-stats">
                                {% for player in challenge.second_squad.players.all %} 
                                <div class="player_list d-flex justify-content-start w-100">
                                  <div class="player_img">
                                      {% if player.profile_pic %}
                                      <img src="{{player.profile_pic.url}}" class="rounded-circle" width="36" height="36"/>
                                       {% else %}
                                       <img src="{% static 'images/user.png' %}" alt="Team Logo" class="rounded-circle" width="36" height="36"/>
                                       {% endif %}
                                  </div>
                                  <p class="mb-0 ms-1 fw-bold player_name">{{player.get_full_name}}</p>
                                </div>
                               {% endfor %}
                              
                              </div>
                          </div>
                      </div>
                      {% comment %}  {% endcomment %}
                      <div class="col-12">
                        <div class="d-flex justify-content-center">
                          <div class="result_info" role="alert">
                            {% if challenge.winner %}
                              Team Won :  {{ challenge.winner.name }}.
                            {% else %}
                            Result not outlined.
                            {% endif %}
                          </div>
                        </div>
                      </div>
                      {% comment %}  {% endcomment %}
                    </div>
                  </div>
            </div>

              {% comment %}  {% endcomment %}
            </div>
        </div>
    </div>


</section>


{% endblock %}

{% block js %}

{% endblock %}
