<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reset Password</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/fonts.css' %}">
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
</head>
<body>

<div class="main_container">

    <div class="banner-side d-none d-md-block">
        <div class="logo d-none d-md-block">
            <img src="{% static 'logo.png' %}" width="100">
        </div>
        <img src="{% static 'images/login.png' %}"
             alt="Basketball player jumping"
             class="hero-image">
    </div>

    <div class="form-side">
        <div class="mobile_logo d-block d-md-none">
            <img src="{% static 'logo.png' %}" width="100">
        </div>

        <form class="login-form" method="post">
            {% csrf_token %}

            <h1 class="fw-bold">Reset Password</h1>

        <div class="form-group">
            <label>New Password</label>
            <div class="input-wrapper">
                <input type="password"
                       id="new_password"
                       name="new_password"
                       placeholder="Enter new password"
                       required
                       value="{{ request.POST.new_password|default:'' }}">


                <button type="button"
                        class="toggle-password"
                        data-target="new_password">
                    <i class="fa-solid fa-eye"></i>
                </button>
            </div>
        </div>

        <div class="form-group">
            <label>Confirm New Password</label>
            <div class="input-wrapper">
                <input type="password"
                       id="confirm_new_password"
                       name="confirm_new_password"
                       placeholder="Confirm new password"
                       required
                       value="{{ request.POST.confirm_new_password|default:'' }}">

                <button type="button"
                        class="toggle-password"
                        data-target="confirm_new_password">
                    <i class="fa-solid fa-eye"></i>
                </button>
                                {% for message in messages %}
                    <small class="text-danger error-text">
                        {{ message }}
                    </small>
                {% endfor %}
            </div>

        </div>

            <button type="submit" class="login-button">
                Reset Password
            </button>
        </form>
    </div>
</div>

<script>
    document.querySelectorAll('.toggle-password').forEach(button => {
        button.addEventListener('click', function () {
            const input = document.getElementById(
                this.getAttribute('data-target')
            );

            if (input.type === 'password') {
                input.type = 'text';
                this.innerHTML = '<i class="fa-solid fa-eye-slash"></i>';
            } else {
                input.type = 'password';
                this.innerHTML = '<i class="fa-solid fa-eye"></i>';
            }
        });
    });
</script>

</body>
</html>
