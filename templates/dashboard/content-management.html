{% extends "base.html" %}
{% load static %}
{% block title%} Content Management {% endblock%}

{% block nav_title %}
    {% with page_title="Content Management" %}
        {{ block.super }}
    {% endwith%}
{% endblock nav_title%}


{% block content %} 
<section class="main-section spacer">
    <div class="container">
        <div class="wrapper-card">
           <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="row gy-3">                     
                <div class="col-xl-12">
                    <ul class="content-tabs" id="pills-tab" role="tablist">
                        <li class="nav-item" role="presentation">
                          <button class="nav-link active" id="pills-terms-tab" data-bs-toggle="pill" data-bs-target="#pills-terms"
                           type="button" role="tab" aria-controls="pills-terms" aria-selected="true">Terms &amp; Conditions</button>
                        </li>
                        <li class="nav-item" role="presentation">
                          <button class="nav-link" id="pills-privacy-tab" data-bs-toggle="pill" data-bs-target="#pills-privacy" type="button" role="tab"
                           aria-controls="pills-privacy" aria-selected="false" tabindex="-1">Privacy Policy</button>
                        </li>
                    </ul>
                    <div class="tab-content pt-4" id="pills-tabContent">
                        <div class="tab-pane fade active show" id="pills-terms" role="tabpanel" aria-labelledby="pills-home-tab" tabindex="0">
                            <div class="tab-content-wrapper">
                                <div id="editor-container">
                                    {{ form.terms_conditions.value|safe|default:"" }}
                                </div>
                                <input type="hidden" name="terms_conditions" id="hidden-input">
                                <div class="text-danger">{{ form.terms_conditions.errors }}</div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="pills-privacy" role="tabpanel" aria-labelledby="pills-privacy-tab" tabindex="0">
                            <div class="tab-content-wrapper">
                                <div id="editor_rivacy_policy">
                                    {{ form.privacy_policy.value|safe|default:"" }}
                                </div>
                                <input type="hidden" name="privacy_policy" id="privacy_policy_input">
                                <div class="text-danger">{{ form.privacy_policy.errors }}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row gy-3">
                <div class="col-xl-12">
                    <button type="submit" class="btn mt-4 black-btn fw-bold fs-6 float-end">Save</button>
                </div>
           </form>
        </div>
    </div>
</section>

{% endblock content%}
{% block js %}
<script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
<script>
    var quill = new Quill('#editor-container', {
        theme: 'snow',
        placeholder: 'Write something...',
        modules: {
            toolbar: [
                ['bold', 'italic', 'underline'],
                [{ 'list': 'ordered' }, { 'list': 'bullet' }],
                [{ 'align': [] }],
                [{ 'script': 'sub' }, { 'script': 'super' }],
                ['blockquote', 'code-block'],
                ['clean']
            ]
        }
    });

    var rivacy_policy_quill = new Quill('#editor_rivacy_policy', {
        theme: 'snow',
        placeholder: 'Write something...',
        modules: {
            toolbar: [
                ['bold', 'italic', 'underline'],
                [{ 'list': 'ordered' }, { 'list': 'bullet' }],
                [{ 'align': [] }],
                [{ 'script': 'sub' }, { 'script': 'super' }],
                ['blockquote', 'code-block'],
                ['clean']
            ]
        }
    });

    document.querySelector('form').onsubmit = function () {
        document.querySelector('#hidden-input').value = quill.root.innerHTML;
    };

    document.querySelector('form').onsubmit = function () {
        document.querySelector('#privacy_policy_input').value = rivacy_policy_quill.root.innerHTML;
    };

    {% comment %}  {% endcomment %}
    var hiddenInput = document.querySelector('#hidden-input');
    quill.on('text-change', function () {
        hiddenInput.value = quill.root.innerHTML;
    });
    {% comment %}  {% endcomment %}
    var hiddenInput1 = document.querySelector('#privacy_policy_input');
    rivacy_policy_quill.on('text-change', function () {
        hiddenInput1.value = quill.rivacy_policy_quill.innerHTML;
    });


    document.querySelector('form').onsubmit = function () {
        hiddenInput.value = quill.root.innerHTML;
        hiddenInput1.value = rivacy_policy_quill.root.innerHTML;
    };


</script>

{% endblock%}


{% block css %}
<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
<style>
    .ql-container {
        min-height: 200px;
        font-size: 16px;
    }
</style>
{% endblock %}